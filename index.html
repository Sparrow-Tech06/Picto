<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Learn Symbols Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<style>
body { background:#fafafa; }

.card-ui {
  border-radius: 20px;
  padding: 25px;
  min-height: 360px;
  transition: all .4s;
}

.symbol { font-size: 90px; }

.option-btn {
  border-radius: 50px;
  font-size: 16px;
}

.skeleton {
  background: linear-gradient(90deg,#eee,#f5f5f5,#eee);
  animation: shimmer 1.2s infinite;
  border-radius: 16px;
}
@keyframes shimmer {
  0%{background-position:-200px}
  100%{background-position:200px}
}
</style>
</head>

<body>

<header class="text-center py-3">
  <h4>ðŸŽ® Learn Symbols</h4>
  <p class="text-muted mb-1">Fun learning game for kids</p>
</header>

<main id="app" class="container">

<section class="mb-3" v-if="loaded">
  <div class="d-flex justify-content-between small mb-1">
    <span>Question {{ index+1 }} / {{ total }}</span>
    <span>{{ total - index - 1 }} left</span>
  </div>
  <div class="progress">
    <div class="progress-bar bg-success"
         :style="{width: progress + '%'}"></div>
  </div>
</section>

<!-- Skeleton -->
<section v-if="!loaded">
  <article class="card-ui skeleton mb-3"></article>
</section>

<!-- Game Card -->
<section v-else>
<article class="card-ui text-center"
         :style="{background: current.bg}"
         :key="index">

  <div class="symbol mb-3">{{ current.symbol }}</div>
  <h5 class="mb-4">Guess who I am?</h5>

  <div class="d-grid gap-2 mb-3">
    <button v-for="op in current.options"
            class="btn btn-outline-dark option-btn"
            @click="check(op)">
      {{ op }}
    </button>
  </div>

  <button class="btn btn-sm btn-secondary"
          @click="next">
    Skip
  </button>
</article>
</section>

</main>

<footer class="text-center small text-muted py-3">
  Educational game â€¢ No ads â€¢ Kids friendly
</footer>

<!-- Correct Modal -->
<div class="modal fade" id="correctModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">
      <div class="modal-body">
        <h4 class="text-success">Correct Answer ðŸŽ‰</h4>
        <button class="btn btn-primary mt-3"
                data-bs-dismiss="modal">
          Continue
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Wrong Modal -->
<div class="modal fade" id="wrongModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">
      <div class="modal-body">
        <h4 class="text-warning">Try Again ðŸ™‚</h4>
        <button class="btn btn-secondary mt-3"
                data-bs-dismiss="modal">
          Ok
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Complete Modal -->
<div class="modal fade" id="completeModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">
      <div class="modal-body">
        <h4 class="text-success">You completed all questions ðŸŽ‰</h4>
        <button class="btn btn-success mt-3"
                @click="restart"
                data-bs-dismiss="modal">
          Play Again
        </button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
const { createApp } = Vue;

createApp({
  data(){
    return { cards:[], index:0, loaded:false }
  },
  computed:{
    current(){ return this.cards[this.index]; },
    total(){ return this.cards.length; },
    progress(){ return ((this.index+1)/this.total)*100; }
  },
  methods:{
    check(ans){
      if(ans === this.current.answer){
        new bootstrap.Modal(correctModal).show();
        setTimeout(this.next,300);
      }else{
        new bootstrap.Modal(wrongModal).show();
      }
    },
    next(){
      if(this.index < this.total-1){
        this.index++;
      }else{
        new bootstrap.Modal(completeModal).show();
      }
    },
    restart(){
      this.index = 0;
    }
  },
  mounted(){
    fetch("data.json")
      .then(r=>r.json())
      .then(d=>{
        this.cards = d;
        this.loaded = true;
      });
  }
}).mount('#app');
</script>

</body>
</html>
